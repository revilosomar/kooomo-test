$(document).ready((function(){var e;function t(e){Handlebars.registerHelper("roundDiscount",(function(e){return Math.abs(parseInt(e))})),Handlebars.registerHelper("isdefined",(function(e){return void 0!==e}));var t=$("#product-template").html(),n=Handlebars.compile(t)(e);$(".wrapper-articles").append(n)}function n(e){let t=document.querySelector(".wrapper-articles").children;for(let n=0;n<t.length;n++)3===e?(t[n].classList.add("col-lg-4"),t[n].classList.remove("col-lg-3")):4===e&&(t[n].classList.add("col-lg-3"),t[n].classList.remove("col-lg-4"))}$.getJSON("http://interviews-env.b8amvayt6w.eu-west-1.elasticbeanstalk.com/products",(function(n){var l;e=n,l=n.length,$(".item-count").text(l),t(n)})).always(()=>$(".loading").fadeOut(1e3)),$("#search-form-header button").on("click",(function(e){!function(e){let t="http://interviews-env.b8amvayt6w.eu-west-1.elasticbeanstalk.com/products?search="+e;$.getJSON(t,(function(e){let t=$(".search-result");if(t.empty(),0===e.length){let e=document.createElement("p");e.appendChild(document.createTextNode("Nothing found")),t.append(e)}else{let r=document.createElement("ul");for(let t=0;t<e.length;t++){let i=document.createElement("li");i.insertAdjacentHTML("beforeend",(n=e[t].url,l=e[t].name,c=e[t].images.medium,o=e[t].price.currency_symbol,s=e[t].price.to_discount,a=e[t].price.sell,'<a class="link-product" href="'+n+'"><img class="image-product" src="'+c+'" alt="'+l+'"><div class="wrap-data"><h2 class="article-title">'+l+'</h2><p class="price"><span class="normal-price">'+o+" "+s+"</span>"+o+" "+a+"</p></div></a>")),r.append(i)}t.append(r)}var n,l,c,o,s,a}))}($("#search-term").val()),e.preventDefault()})),$("#mobile-button").on("click",(function(e){$(".mobile-menu").toggleClass("open-element"),e.preventDefault()})),$(".language-button").on("click",(function(e){$(".language-selector").toggleClass("show"),e.preventDefault()})),$(document).on("click",(function(e){0===$(e.target).closest(".language-button").length&&$(".language-selector").removeClass("show")})),$(".shipping-button").on("click",(function(e){$(".country-selector").toggleClass("show"),e.preventDefault()})),$(document).on("click",(function(e){0===$(e.target).closest(".shipping-button").length&&$(".country-selector").removeClass("show")})),$("#button-search").on("click",(function(e){$(".search").toggleClass("open-element"),e.preventDefault()})),$(".search-close").on("click",(function(e){$(".search").removeClass("open-element"),e.preventDefault()})),$(".four-elements").on("click",(function(e){$(this).hasClass("active")||(n(4),$(this).addClass("active"),$(".three-elements").removeClass("active")),e.preventDefault()})),$(".three-elements").on("click",(function(e){$(this).hasClass("active")||(n(3),$(this).addClass("active"),$(".four-elements").removeClass("active")),e.preventDefault()})),$(".select-sort").on("click",(function(e){$(".sort-submenu").toggleClass("show"),e.preventDefault()})),$(document).on("click",(function(e){0===$(e.target).closest(".select-sort").length&&$(".sort-submenu").removeClass("show")})),$(".sort-name-asc").on("click",(function(n){e&&($(".wrapper-articles").empty(),e.sort((e,t)=>e.name.localeCompare(t.name)),t(e)),n.preventDefault()})),$(".sort-name-desc").on("click",(function(n){e&&($(".wrapper-articles").empty(),e.sort((e,t)=>t.name.localeCompare(e.name)),t(e)),n.preventDefault()})),$(".sort-price-high").on("click",(function(n){e&&($(".wrapper-articles").empty(),e.sort((e,t)=>t.price.sell-e.price.sell),t(e)),n.preventDefault()})),$(".sort-price-low").on("click",(function(n){e&&($(".wrapper-articles").empty(),e.sort((e,t)=>e.price.sell-t.price.sell),t(e)),n.preventDefault()})),$(document).scroll((function(){$(this).scrollTop()>100?$(".anchor-up").show():$(".anchor-up").hide()})),$(".anchor-up").on("click",(function(e){$("html, body").animate({scrollTop:$("body").offset().top},1200),e.preventDefault()}))}));